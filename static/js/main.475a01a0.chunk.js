(this.webpackJsonppictionarry=this.webpackJsonppictionarry||[]).push([[0],{193:function(e,n,t){},194:function(e,n,t){},198:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=198},199:function(e,n,t){"use strict";t.r(n),t.d(n,"Connexion",(function(){return _})),t.d(n,"ColorChange",(function(){return X}));var c=t(1),o=t.n(c),i=t(73),l=t.n(i),a=(t(2),t(193),function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,201)).then((function(n){var t=n.getCLS,c=n.getFID,o=n.getFCP,i=n.getLCP,l=n.getTTFB;t(e),c(e),o(e),i(e),l(e)}))}),s=(t(194),t(82)),d=t(13),r=t(26),u=t(78),j=t(79),m=t(80),b=t(4);var h=function(){return Object(b.jsx)("div",{className:"background",children:Object(b.jsxs)("div",{className:"wrapper",children:[Object(b.jsxs)("div",{className:"titre",children:[Object(b.jsx)("h3",{id:"show-peer"}),Object(b.jsx)("input",{id:"peerID"}),Object(b.jsx)("button",{onClick:_,children:" Connexion "})]}),Object(b.jsx)("div",{className:"drawbox",children:Object(b.jsx)("canvas",{id:"DrawBox",width:"600",height:"600"})}),Object(b.jsxs)("div",{className:"outils",children:[Object(b.jsx)("button",{className:"styleB",id:"Pen+",children:"Pen+"}),Object(b.jsx)("button",{className:"styleB",id:"Pen-",children:"Pen-"}),Object(b.jsx)("button",{className:"styleB",id:"Pinceau",children:Object(b.jsx)(r.a,{})}),Object(b.jsx)("button",{className:"styleB",id:"Erase",children:Object(b.jsx)(d.a,{})}),Object(b.jsx)("button",{className:"styleB",id:"Clear",children:Object(b.jsx)(r.b,{})}),Object(b.jsx)("button",{className:"styleB",id:"drawRect",children:Object(b.jsx)(d.b,{})}),Object(b.jsx)("button",{className:"styleB",id:"drawCircle",children:Object(b.jsx)(u.a,{})}),Object(b.jsx)("button",{className:"styleB",id:"drawLine",children:Object(b.jsx)(j.a,{})}),Object(b.jsx)("button",{className:"styleB",id:"fillIn",children:Object(b.jsx)(m.a,{})}),Object(b.jsx)("button",{className:"styleB",download:"example.jpg",id:"saveImage",children:Object(b.jsx)(d.c,{})})]}),Object(b.jsx)("div",{className:"couleurs",children:Object(b.jsx)(s.a,{onChange:function(e){var n=e.hex;n=X(n)},width:"0"})}),Object(b.jsxs)("div",{className:"chatbox",children:["Chatbox",Object(b.jsx)("p",{id:"chat"})]}),Object(b.jsx)("div",{className:"score",children:"Score"}),Object(b.jsx)("div",{className:"video",children:Object(b.jsx)("video",{autoPlay:!0,id:"Video",width:"600",height:"600"})})]})})},x=t(81),g=t.n(x);l.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(h,{})}),document.getElementById("root"));var y,f=document.getElementById("DrawBox"),O=f.getContext("2d"),v=(document.getElementsByClassName("color"),document.getElementById("Pen+")),B=document.getElementById("Pen-"),p=document.getElementById("Erase"),k=document.getElementById("Pinceau"),w=document.getElementById("Clear"),E=document.getElementById("drawRect"),I=document.getElementById("drawCircle"),N=document.getElementById("drawLine"),C=document.getElementById("saveImage"),P=document.getElementById("fillIn");O.lineWidth=5;var T,L,S,D,M,R=!0,F=!1,H=!1,U=!1,W=!1,J=new g.a,V=f.captureStream(60);function _(){S=document.getElementById("peerID").value,document.getElementById("show-peer").innerHTML="Connexion "+S,(T=J.connect(S)).on("open",(function(e){T.send("Ekhynox : "),T.send("hello toi <3 !"),document.getElementById("chat").innerHTML="Check la console ou le chatbox de l'autre navigateur",console.log("Check la console sur l'autre navigateur")})),J.call(S,V).on("stream",(function(e){console.log("call on"),function(e){var n=document.getElementById("Video");n.srcObject=e,console.log(n.srcObject)}(e)}))}function X(e){y=!1,O.strokeStyle=e,O.fillStyle=e}function Y(e,n){var t=e.getBoundingClientRect();return{x:n.clientX-t.left,y:n.clientY-t.top}}J.on("open",(function(e){L=e,document.getElementById("show-peer").innerHTML=L})),J.on("connection",(function(e){e.on("data",(function(e){document.getElementById("chat").innerHTML+=e,console.log(e)}))})),J.on("call",(function(e){e.answer(V)})),v.onclick=function(){y=!1,O.lineWidth+=5},B.onclick=function(){y=!1,O.lineWidth-=5},p.onclick=function(){R=!0,F=!1,H=!1,U=!1,W=!1,y=!1,O.strokeStyle="white"},k.onclick=function(){y=!1,R=!0,F=!1,H=!1,U=!1,W=!1,O.strokeStyle="black"},w.onclick=function(){R=!0,F=!1,H=!1,U=!1,W=!1,y=!1,O.clearRect(0,0,1e3,1e3),O.strokeStyle="black"},E.onclick=function(){R=!1,F=!0,H=!1,U=!1,W=!1},I.onclick=function(){R=!1,F=!1,H=!0,U=!1,W=!1},N.onclick=function(){R=!1,F=!1,H=!1,U=!0,W=!1},f.onload=function(){O.fillStyle("white"),O.fillRect(0,0,750,750)},P.onclick=function(){R=!1,F=!1,H=!1,U=!1,W=!0},C.onclick=function(){var e=document.createElement("a");e.href=f.toDataURL("image/jpg").replace("png","jpg"),e.download="dessine-moi.jpg",e.click()},f.onmousedown=function(e){if(R){var n=Y(f,e);y=!0,O.beginPath(),O.moveTo(n.x,n.y)}F&&(D=Y(f,e),y=!0,O.beginPath()),H&&(D=Y(f,e),y=!0,O.beginPath()),U&&(D=Y(f,e),y=!0,O.beginPath(),O.moveTo(D.x,D.y)),W&&(D=Y(f,e),y=!0,O.beginPath())},f.onmouseup=function(e){y&&F&&(M=Y(f,e),O.strokeRect(D.x,D.y,M.x-D.x,M.y-D.y)),y&&H&&(M=Y(f,e),O.ellipse(D.x,D.y,Math.abs(M.x-D.x),Math.abs(M.y-D.y),0,0,6.28),O.stroke()),y&&U&&(M=Y(f,e),O.lineTo(M.x,M.y),O.stroke()),y&&W&&(M=Y(f,e),console.log("blablabla")),y=!1},f.onmousemove=function(e){if(y&&R){var n=Y(f,e);O.lineTo(n.x,n.y),O.linecap="round",O.stroke()}},a()}},[[199,1,2]]]);
//# sourceMappingURL=main.475a01a0.chunk.js.map