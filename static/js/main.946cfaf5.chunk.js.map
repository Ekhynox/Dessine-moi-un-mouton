{"version":3,"sources":["../node_modules/peerjs/dist sync","connexion.js","reportWebVitals.js","App.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","peerID","connID","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","peer","Peer","getUserMedia","document","getElementById","navigator","webkitGetUserMedia","mozGetUserMedia","Connexion","value","conn","connect","on","send","console","log","video","audio","stream","call","remoteStream","err","innerHTML","data","answer","App","className","width","height","onChange","hex","ColorChange","onClick","ReactDOM","render","StrictMode","isDrawing","canvas","context","getContext","penUp","getElementsByClassName","penDown","erase","pinceau","clear","rect","circle","line","lineWidth","posInit","posEnd","drawPinceau","drawRectangle","drawCircle","drawLine","strokeStyle","fillStyle","getMousePos","mouse","getBoundingClientRect","x","clientX","left","y","clientY","top","onclick","clearRect","onmousedown","pos","beginPath","moveTo","onmouseup","strokeRect","ellipse","Math","abs","stroke","lineTo","onmousemove","linecap"],"mappings":"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","file":"static/js/main.946cfaf5.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 191;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport reactCSS from 'reactcss';\r\nimport Peer from 'peerjs';\r\nimport App from './App';\r\n\r\n//Fonction de PeerJS\r\nvar peer = new Peer();\r\nvar peerID;\r\n\r\n//var btnConnexion = document.getElementById(\"connexion\");\r\nvar connID;\r\nvar conn;\r\nvar canvas = document.getElementById('DrawBox');\r\n//var stream = canvas.captureStream(25);\r\nvar getUserMedia = navigator.getUserMedia ||\r\n                   navigator.webkitGetUserMedia ||\r\n                   navigator.mozGetUserMedia;\r\n\r\n export function Connexion() {\r\n  connID = document.getElementById(\"peerID\").value;\r\n  var conn = peer.connect(connID);\r\n  conn.on('open', function(id) {\r\n    conn.send(\"hello toi <3 !\");\r\n    console.log(\"Check la console sur l'autre navigateur\");\r\n\r\n    //////////////////////////////////////////////////////\r\n    //Media\r\n    getUserMedia({\r\n      video: true,\r\n      audio: true\r\n    },\r\n    function(stream){\r\n      var call = peer.call(connID, stream);\r\n      call.on('stream', function(remoteStream) {\r\n        console.log(\"ok\")\r\n            // Show stream in some video/canvas element.\r\n      });\r\n    },\r\n    function(err) {\r\n          console.log('Failed to get local stream' ,err);\r\n    });\r\n    //Fin Media\r\n    //////////////////////////////////////////////////////\r\n  });\r\n}\r\n\r\npeer.on('open', function(id) {\r\n  peerID = id;\r\n  document.getElementById(\"show-peer\").innerHTML = peerID;\r\n});\r\n\r\npeer.on('connection', function(conn) {\r\n  conn.on('data', function(data){\r\n    // Will print 'hello toi <3 !'\r\n    console.log(data);\r\n  });\r\n});\r\n\r\n\r\n//MediaConnection\r\npeer.on('connection', function(call) {\r\n  console.log(\"ok\")\r\n  getUserMedia({\r\n      video: true,\r\n      audio: true\r\n    },\r\n    function(stream) {\r\n      console.log(\"ok2\")\r\n      call.answer(stream); // Answer the call with an A/V stream.\r\n      call.on('stream', function(remoteStream) {\r\n        console.log(\"connection ok!\")// Show stream in some video/canvas element.\r\n      });\r\n    },\r\n    function(err) {\r\n      console.log('Failed to get local stream' ,err);\r\n    });\r\n});\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './App.css';\r\nimport React, {useState} from 'react';\r\nimport reactCSS from 'reactcss';\r\nimport {CirclePicker} from 'react-color';\r\nimport {ColorChange} from './index';\r\nimport {Connexion} from './connexion';\r\n\r\nfunction App() {\r\n  //const colorChange = ({ hex }) => hex = ColorChange(hex); // fonction change la couleur du pinceau\r\n  const colorChange = ({hex}) => {\r\n    hex = ColorChange(hex); // fonction change la couleur du pinceau\r\n  }\r\n\r\n  return (\r\n    <div className=\"background\">\r\n      <div className=\"wrapper\">\r\n          <div className=\"titre\">\r\n            TITRE !\r\n          </div>\r\n          <div className=\"drawbox\">\r\n            <canvas id=\"DrawBox\" width=\"750\" height=\"750\"></canvas>\r\n          </div>\r\n          <div className=\"outils\">\r\n            <button className=\"styleB\" id=\"Pen+\">Pen+</button>\r\n            <button className=\"styleB\" id=\"Pen-\">Pen-</button>\r\n            <button className=\"styleB\" id=\"Pinceau\">Pen</button>\r\n            <button className=\"styleB\" id=\"Erase\">Eraser</button>\r\n            <button className=\"styleB\" id=\"Clear\">Clear</button>\r\n\r\n            <button className=\"styleB\" id=\"drawRect\">Rectangle</button>\r\n            <button className=\"styleB\" id=\"drawCircle\">Cercles</button>\r\n            <button className=\"styleB\" id=\"drawLine\">Lignes</button>\r\n            <button className=\"styleB\" >...</button>\r\n            <button className=\"styleB\" >...</button>\r\n          </div>\r\n          <div className=\"couleurs\">\r\n            <CirclePicker\r\n              onChange={colorChange}\r\n              width = \"0\"\r\n            />\r\n          </div>\r\n          <div className=\"chatbox\">\r\n            ChatTEST123545\r\n          </div>\r\n          <div className=\"score\">\r\n            Score\r\n          </div>\r\n      </div>\r\n        <h3 id=\"show-peer\"></h3>\r\n        <input id=\"peerID\"></input>\r\n        <button onClick={Connexion}> connection </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport reactCSS from 'reactcss';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport App from './App';\r\nimport Peer from 'peerjs';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App/>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n//Canvas\r\nvar canvas = document.getElementById('DrawBox');\r\nvar context = canvas.getContext('2d');\r\n\r\n//Pen\r\nvar color = document.getElementsByClassName('color');\r\nvar penUp = document.getElementById('Pen+');\r\nvar penDown = document.getElementById('Pen-');\r\nvar erase = document.getElementById('Erase');\r\nvar pinceau = document.getElementById('Pinceau');\r\nvar clear = document.getElementById('Clear');\r\nvar rect = document.getElementById('drawRect');\r\nvar circle = document.getElementById('drawCircle');\r\nvar line = document.getElementById('drawLine');\r\ncontext.lineWidth = 8;\r\nvar isDrawing;\r\nvar drawPinceau = true;\r\nvar drawRectangle = false;\r\nvar drawCircle = false;\r\nvar drawLine = false;\r\n\r\n//Fonction sur le pinceau\r\nexport function ColorChange(hex){\r\n    isDrawing = false;\r\n    context.strokeStyle = hex; // change la couleur du trait\r\n    context.fillStyle = hex;\r\n}\r\n\r\npenUp.onclick = function() {\r\n    isDrawing = false;\r\n    context.lineWidth += 5;\r\n};\r\n\r\npenDown.onclick = function() {\r\n    isDrawing = false;\r\n    context.lineWidth -= 5;\r\n};\r\n\r\nerase.onclick = function() {\r\n    drawPinceau = true;\r\n    drawRectangle = false;\r\n    isDrawing = false;\r\n    context.strokeStyle = \"white\";\r\n};\r\n\r\npinceau.onclick = function() {\r\n    isDrawing = false;\r\n    drawPinceau = true;\r\n    drawRectangle = false;\r\n    drawCircle = false;\r\n    context.strokeStyle = \"black\"\r\n};\r\n\r\nclear.onclick = function() {\r\n    drawPinceau = true;\r\n    drawRectangle = false;\r\n    isDrawing = false;\r\n    context.clearRect(0,0,1000,1000);\r\n    context.strokeStyle = \"black\";\r\n};\r\n\r\nrect.onclick = function() {\r\n    drawPinceau = false;\r\n    drawRectangle = true;\r\n    drawCircle = false;\r\n    drawLine = false;\r\n    //context.strokeStyle = \"black\";\r\n};\r\n\r\ncircle.onclick = function() {\r\n    drawPinceau = false;\r\n    drawRectangle = false;\r\n    drawCircle = true;\r\n    drawLine = false;\r\n    //context.strokeStyle = \"black\";\r\n};\r\n\r\nline.onclick = function() {\r\n    drawPinceau = false;\r\n    drawRectangle = false;\r\n    drawCircle = false;\r\n    drawLine = true;\r\n    //context.strokeStyle = \"black\";\r\n}\r\n\r\n//Fonction de dessin\r\nfunction getMousePos(canvas, mouse) {\r\n  var rect = canvas.getBoundingClientRect(); // retourne sa position par rapport à la zone d'affichage.\r\n  return {\r\n    x: mouse.clientX - rect.left, // position en X de la souris - ditance depuis la droite de la fenêtre par rapport à la zone  de dessin.\r\n    y: mouse.clientY - rect.top // position en Y de la souris - ditance depuis le haut de la fenêtre par rapport à la zone de dessin.\r\n  };\r\n}\r\n\r\nvar posInit;\r\nvar posEnd;\r\n\r\ncanvas.onmousedown = function (mouse) { //on commence le dessin\r\n  if (drawPinceau)\r\n  {\r\n    var pos = getMousePos(canvas, mouse); // position (x,y) du crayon\r\n    isDrawing = true;\r\n    context.beginPath(); // commencer un nouveau trait\r\n    context.moveTo(pos.x, pos.y); //déplacer le crayon avec la méthode à la nouvelle position\r\n  }\r\n  if (drawRectangle)\r\n  {\r\n    posInit=getMousePos(canvas,mouse);\r\n    isDrawing = true;\r\n    context.beginPath();\r\n  }\r\n  if(drawCircle)\r\n  {\r\n    posInit=getMousePos(canvas,mouse);\r\n    isDrawing = true;\r\n    context.beginPath();\r\n  }\r\n  if(drawLine)\r\n  {\r\n    posInit=getMousePos(canvas,mouse);\r\n    isDrawing = true;\r\n    context.beginPath();\r\n    context.moveTo(posInit.x, posInit.y);\r\n  }\r\n};\r\n\r\ncanvas.onmouseup = function (mouse) { //on arrete le dessin\r\n  if (isDrawing  && drawRectangle)\r\n  {\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.strokeRect(posInit.x, posInit.y, posEnd.x - posInit.x, posEnd.y - posInit.y);\r\n  }\r\n\r\n  if(isDrawing && drawCircle)\r\n  {\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.ellipse(posInit.x, posInit.y, Math.abs(posEnd.x - posInit.x), Math.abs(posEnd.y - posInit.y), 0, 0, 2*3.14);\r\n    context.stroke();\r\n  }\r\n  if(isDrawing && drawLine)\r\n  {\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.lineTo(posEnd.x, posEnd.y);\r\n    context.stroke();\r\n  }\r\n  isDrawing = false;\r\n};\r\n\r\ncanvas.onmousemove = function (mouse) {\r\n  if (isDrawing && drawPinceau) {\r\n    var pos = getMousePos(canvas, mouse); // position (x,y) du crayon\r\n    context.lineTo(pos.x, pos.y); // dessiner une ligne\r\n    context.linecap = 'round'\r\n    context.stroke();\r\n  }\r\n};\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}