(this.webpackJsonppictionarry=this.webpackJsonppictionarry||[]).push([[0],{193:function(e,n,t){},194:function(e,n,t){},198:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=198},199:function(e,n,t){"use strict";t.r(n),t.d(n,"Connexion",(function(){return A})),t.d(n,"ColorChange",(function(){return X}));var c=t(1),o=t.n(c),i=t(73),l=t.n(i),a=(t(2),t(193),function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,201)).then((function(n){var t=n.getCLS,c=n.getFID,o=n.getFCP,i=n.getLCP,l=n.getTTFB;t(e),c(e),o(e),i(e),l(e)}))}),s=(t(194),t(82)),d=t(13),r=t(26),u=t(78),m=t(79),j=t(80),b=t(4);var x=function(){return Object(b.jsx)("div",{className:"background",children:Object(b.jsxs)("div",{className:"wrapper",children:[Object(b.jsxs)("div",{className:"titre",children:[Object(b.jsx)("h3",{id:"show-peer"}),Object(b.jsx)("input",{id:"peerID"}),Object(b.jsx)("button",{onClick:A,children:" Connexion "})]}),Object(b.jsx)("div",{className:"drawbox",children:Object(b.jsx)("canvas",{id:"DrawBox",width:"600",height:"600"})}),Object(b.jsxs)("div",{className:"outils",children:[Object(b.jsx)("button",{className:"styleB",id:"Pen+",children:"Pen+"}),Object(b.jsx)("button",{className:"styleB",id:"Pen-",children:"Pen-"}),Object(b.jsx)("button",{className:"styleB",id:"Pinceau",children:Object(b.jsx)(r.a,{})}),Object(b.jsx)("button",{className:"styleB",id:"Erase",children:Object(b.jsx)(d.a,{})}),Object(b.jsx)("button",{className:"styleB",id:"Clear",children:Object(b.jsx)(r.b,{})}),Object(b.jsx)("button",{className:"styleB",id:"drawRect",children:Object(b.jsx)(d.b,{})}),Object(b.jsx)("button",{className:"styleB",id:"drawCircle",children:Object(b.jsx)(u.a,{})}),Object(b.jsx)("button",{className:"styleB",id:"drawLine",children:Object(b.jsx)(m.a,{})}),Object(b.jsx)("button",{className:"styleB",id:"fillIn",children:Object(b.jsx)(j.a,{})}),Object(b.jsx)("button",{className:"styleB",download:"example.jpg",id:"saveImage",children:Object(b.jsx)(d.c,{})})]}),Object(b.jsx)("div",{className:"couleurs",children:Object(b.jsx)(s.a,{onChange:function(e){var n=e.hex;n=X(n)},width:"0"})}),Object(b.jsxs)("div",{className:"chatbox",children:["Chatbox",Object(b.jsx)("p",{id:"chat"})]}),Object(b.jsx)("div",{className:"score",children:"Score"}),Object(b.jsx)("div",{className:"video",children:Object(b.jsx)("video",{autoPlay:!0,id:"Video",width:"600",height:"600"})})]})})},h=t(81),g=t.n(h);l.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(x,{})}),document.getElementById("root"));var y,f=document.getElementById("DrawBox"),O=f.getContext("2d"),v=(document.getElementsByClassName("color"),document.getElementById("Pen+")),B=document.getElementById("Pen-"),w=document.getElementById("Erase"),k=document.getElementById("Pinceau"),p=document.getElementById("Clear"),I=document.getElementById("drawRect"),E=document.getElementById("drawCircle"),C=document.getElementById("drawLine"),N=document.getElementById("saveImage"),P=document.getElementById("fillIn");O.lineWidth=5;var L,T,D,R,S,M,F=!0,U=!1,H=!1,W=!1,J=!1,V=new g.a,_=f.captureStream(300);function A(){D=document.getElementById("peerID").value,document.getElementById("show-peer").innerHTML="Connexion "+D,(L=V.connect(D)).on("open",(function(e){L.send("Ekhynox : "),L.send("hello toi <3 !"),document.getElementById("chat").innerHTML="Check la console ou le chatbox de l'autre navigateur",console.log("Check la console sur l'autre navigateur")})),V.call(D,_).on("stream",(function(e){console.log("call on"),function(e){document.createElement("a");var n=document.getElementById("Video");n.srcObject=e,console.log(n.srcObject)}(e)}))}function X(e){y=!1,O.strokeStyle=e,O.fillStyle=e}function Y(e,n){var t=e.getBoundingClientRect();return{x:n.clientX-t.left,y:n.clientY-t.top}}V.on("open",(function(e){T=e,document.getElementById("show-peer").innerHTML=T})),V.on("connection",(function(e){e.on("data",(function(e){document.getElementById("chat").innerHTML+=e,console.log(e)}))})),V.on("call",(function(e){e.answer(_)})),v.onclick=function(){y=!1,O.lineWidth+=5},B.onclick=function(){y=!1,O.lineWidth-=5},w.onclick=function(){F=!0,U=!1,H=!1,W=!1,J=!1,y=!1,O.strokeStyle="white"},k.onclick=function(){y=!1,F=!0,U=!1,H=!1,W=!1,J=!1,O.strokeStyle="black"},p.onclick=function(){F=!0,U=!1,H=!1,W=!1,J=!1,y=!1,O.clearRect(0,0,1e3,1e3),O.strokeStyle="black"},I.onclick=function(){F=!1,U=!0,H=!1,W=!1,J=!1},E.onclick=function(){F=!1,U=!1,H=!0,W=!1,J=!1},C.onclick=function(){F=!1,U=!1,H=!1,W=!0,J=!1},O.fillStyle="white",O.fillRect(0,0,600,600),P.onclick=function(){F=!1,U=!1,H=!1,W=!1,J=!0},N.onclick=function(){var e=document.createElement("a");e.href=f.toDataURL("image/jpg",1),e.download="dessine-moi.jpg",e.click()},f.onmousedown=function(e){if(M=f.toDataURL("image/jpeg",1),F){var n=Y(f,e);y=!0,O.beginPath(),O.moveTo(n.x,n.y)}U&&(R=Y(f,e),y=!0,O.beginPath()),H&&(R=Y(f,e),y=!0,O.beginPath()),W&&(R=Y(f,e),y=!0,O.beginPath(),O.moveTo(R.x,R.y)),J&&(R=Y(f,e),y=!0,O.beginPath())},f.onmouseup=function(e){y&&U&&(S=Y(f,e),O.strokeRect(R.x,R.y,S.x-R.x,S.y-R.y)),y&&H&&(S=Y(f,e),O.ellipse(R.x,R.y,Math.abs(S.x-R.x),Math.abs(S.y-R.y),0,0,6.28),O.stroke()),y&&W&&(S=Y(f,e),O.lineTo(S.x,S.y),O.stroke()),y&&J&&(S=Y(f,e),console.log("blablabla")),y=!1},f.onmousemove=function(e){if(y&&F){var n=Y(f,e);O.lineTo(n.x,n.y),O.linecap="round",O.stroke()}U&&y&&(S=Y(f,e),O.strokeRect(R.x,R.y,S.x-R.x,S.y-R.y),function(e){console.log("drawDataURIOnCanvas");var n=new window.Image;n.addEventListener("load",(function(){f.getContext("2d").drawImage(n,0,0,600,600)})),n.setAttribute("src",e)}(M))},a()}},[[199,1,2]]]);
//# sourceMappingURL=main.e2c8b1c3.chunk.js.map