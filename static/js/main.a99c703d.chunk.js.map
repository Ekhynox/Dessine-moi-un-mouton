{"version":3,"sources":["../node_modules/peerjs/dist sync","reportWebVitals.js","App.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","App","className","onClick","Connexion","width","height","download","onChange","hex","ColorChange","circleSize","colors","placeholder","Send","autoPlay","ReactDOM","render","StrictMode","document","getElementById","isDrawing","canvas","context","getContext","erase","getElementsByClassName","pinceau","clear","rect","circle","line","save","fill","lineWidth","conn","peerID","connID","drawPinceau","drawRectangle","drawCircle","drawLine","fillIn","peer","Peer","stream","captureStream","value","innerHTML","connect","call","on","remoteStream","console","log","myStream","createElement","video","srcObject","VideoStream","chatBox","div1","div2","span","message","setAttribute","pseudos","appendChild","send","strokeStyle","fillStyle","answer","data","posInit","posEnd","sourceCanvas","verybigPen","bigPen","smallPen","verysmallPen","getMousePos","mouse","getBoundingClientRect","x","clientX","left","y","clientY","top","drawDataURIOnCanvas","strDataURI","img2","window","Image","addEventListener","drawImage","onclick","clearRect","fillRect","img","href","toDataURL","click","onmousedown","pos","beginPath","moveTo","onmouseup","strokeRect","ellipse","Math","abs","PI","stroke","lineTo","onmousemove","linecap"],"mappings":"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","file":"static/js/main.a99c703d.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 199;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './App.css';\nimport React, {useState} from 'react';\nimport reactCSS from 'reactcss';\nimport 'bootstrap/dist/css/bootstrap.css';\n// React Color\nimport {CirclePicker} from 'react-color';\n// React Icons\nimport { BiSave,BiRectangle, BiEraser, BiSend} from 'react-icons/bi';\nimport { FaPaintBrush, FaTrashAlt, FaCircle } from 'react-icons/fa';\nimport { BsCircle } from 'react-icons/bs';\nimport { SiCurl } from \"react-icons/si\";\nimport { VscPaintcan } from 'react-icons/vsc';\n// fonction\nimport {ColorChange, DownloadCanvas} from './index';\nimport {Connexion} from './index';\nimport {Send} from './index.js';\n\nfunction App() {\n  //const colorChange = ({ hex }) => hex = ColorChange(hex); // fonction change la couleur du pinceau\n  const colorChange = ({hex}) => {\n    hex = ColorChange(hex); // fonction change la couleur du pinceau\n  }\n\n  return (\n<html>\n\t<head>\n\t</head>\n    <body>\n    <div className=\"background\">\n      <div className=\"wrapper\">\n          <div className=\"titre\">\n            <h3 id=\"show-peer\"></h3>\n            <input id=\"peerID\"></input>\n            <button onClick={Connexion}> Connexion </button>\n          </div>\n          <div className=\"drawbox\">\n            <canvas id=\"DrawBox\" width=\"600\" height=\"600\"></canvas>\n          </div>\n          <div className=\"outils\">\n            <button className=\"styleB tresgrand\" id=\"Pen++\"><FaCircle/></button>\n            <button className=\"styleB grand\" id=\"Pen+\"><FaCircle/></button>\n            <button className=\"styleB moyen\" id=\"Pen\"><FaCircle/></button>\n            <button className=\"styleB petit\" id=\"Pen-\"><FaCircle/></button>\n            <button className=\"styleB\" id=\"Pinceau\"><FaPaintBrush/></button>\n            <button className=\"styleB\" id=\"Erase\"><BiEraser/></button>\n            <button className=\"styleB\" id=\"Clear\"><FaTrashAlt/></button>\n\n            <button className=\"styleB\" id=\"drawRect\"><BiRectangle/></button>\n            <button className=\"styleB\" id=\"drawCircle\"><BsCircle/></button>\n            <button className=\"styleB\" id=\"drawLine\"><SiCurl/></button>\n            <button className=\"styleB\" id=\"fillIn\"><VscPaintcan/></button>\n            <button className=\"styleB\" download=\"example.jpg\" id=\"saveImage\"><BiSave/></button>\n          </div>\n          <div className=\"couleurs\">\n            <CirclePicker\n              onChange={colorChange}\n              width = {1}\n              circleSize ={26}\n              colors = {[\"#e91e63\", \"#9c27b0\", \"#673ab7\", \"#3f51b5\", \"#2196f3\", \"#00bcd4\", \"#009688\", \"#4caf50\", \"#ffeb3b\", \"#ffc107\", \"#ff9800\", \"#795548\", \"#607d8b\", \"black\", \"white\"]}\n\n            />\n          </div>\n            <div className=\"card\">\n              <div id=\"chatBox\" className=\"card-body msg_card_body\">\n\n                <div className=\"d-flex justify-content-start mb-4\">\n                  <div className=\"msg_cotainer\">\n                    Ekhynox : Hello toi !\n                    <span className=\"msg_time\">46 Sec</span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"card-footer\">\n                <div className=\"input-group\">\n                  <input id=\"message\" className=\"form-control type_msg\" placeholder=\"Type your message...\"></input>\n                  <div className=\"input-group-append\">\n                    <button id=\"send\" onClick={Send} className=\"input-group-text send_btn\" ><BiSend/></button>\n                  </div>\n                </div>\n            </div>\n          </div>\n\n          <div className=\"score\">\n            Score\n          </div>\n\n          <div className=\"video\">\n            <video autoPlay id=\"Video\" width=\"600\" height=\"600\"></video>\n          </div>\n      </div>\n    </div>\n    </body>\n  </html>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reactCSS from 'reactcss';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport App from './App';\nimport Peer from 'peerjs';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n//Canvas\nvar canvas = document.getElementById('DrawBox');\nvar context = canvas.getContext('2d');\n\n//Pen\nvar color = document.getElementsByClassName('color');\nvar erase = document.getElementById('Erase');\nvar pinceau = document.getElementById('Pinceau');\nvar clear = document.getElementById('Clear');\nvar rect = document.getElementById('drawRect');\nvar circle = document.getElementById('drawCircle');\nvar line = document.getElementById('drawLine');\nvar save = document.getElementById('saveImage');\nvar fill = document.getElementById('fillIn');\ncontext.lineWidth = 6;\nvar isDrawing;\nvar drawPinceau = true;\nvar drawRectangle = false;\nvar drawCircle = false;\nvar drawLine = false;\nvar fillIn = false;\nvar pseudos = \"Ekhynox\";\nvar time = 23;\n\n//Fonction de PeerJS\nvar peer = new Peer();\nvar conn;\nvar peerID;\nvar connID;\nvar stream = canvas.captureStream(300);\n\n//Mon ID peerJS\npeer.on('open', function(id) {\n  peerID = id;\n  document.getElementById(\"show-peer\").innerHTML = peerID;\n});\n\n//Stream\nfunction VideoStream(myStream){\n  document.createElement('a');\n  var video = document.getElementById('Video');\n  video.srcObject = myStream;\n  console.log(video.srcObject);\n}\n\n//Connexion\nexport function Connexion() {\n  connID = document.getElementById(\"peerID\").value; //Id du host\n  document.getElementById(\"show-peer\").innerHTML = \"Connexion \" + connID;\n  conn = peer.connect(connID);\n\n  var mystream = peer.call(connID, stream);\n  mystream.on('stream', function(remoteStream){\n    console.log(\"call on\");\n    VideoStream(remoteStream);\n  });\n}\n\npeer.on('call', function(call) {\n  call.answer(stream); // Answer the call with an A/V stream.\n});\n\n\n//Envoyer des messages\nexport function Send() {\n  var chatBox = document.getElementById(\"chatBox\")\n  var div1 = document.createElement(\"div\");\n  var div2 = document.createElement(\"div\");\n  var span = document.createElement(\"span\");\n  var message = document.getElementById(\"message\");\n  conn = peer.connect(connID);\n\n  connID = document.getElementById(\"peerID\").value; //Id du host\n  document.getElementById(\"show-peer\").innerHTML = \"Connexion \" + connID;\n\n  div1.setAttribute(\"class\", \"d-flex justify-content-start mb-4\");\n  div2.setAttribute(\"class\", \"msg_cotainer\");\n  span.setAttribute(\"class\", \"msg_time\");\n\n  div2.innerHTML = pseudos + \" : \" + message.value;\n\n  div2.appendChild(span);\n  div1.appendChild(div2);\n  chatBox.appendChild(div1);\n\n  peer.on('open', function(id) {\n    peerID = id;\n    console.log(peerID);\n  });\n\n  conn.on('open', function(id) {\n    conn.send(pseudos + \" : \" + message.value);\n  });\n}\n\n\n//Reception\npeer.on('connection', function(conn) {\n  conn.on('data', function(data){\n\n    var chatBox = document.getElementById(\"chatBox\")\n    var div1 = document.createElement(\"div\");\n    var div2 = document.createElement(\"div\");\n    var span = document.createElement(\"span\");\n\n    div1.setAttribute(\"class\", \"d-flex justify-content-start mb-4\");\n    div2.setAttribute(\"class\", \"msg_cotainer\");\n    span.setAttribute(\"class\", \"msg_time\");\n\n    div2.innerHTML = data;\n\n    div2.appendChild(span);\n    div1.appendChild(div2);\n    chatBox.appendChild(div1);\n\n    console.log(data);\n  });\n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//Fonction sur le pinceau\nexport function ColorChange(hex){\n    isDrawing = false;\n    context.strokeStyle = hex; // change la couleur du trait\n    context.fillStyle = hex;\n}\n\nvar verybigPen = document.getElementById('Pen++');\nvar bigPen = document.getElementById('Pen+');\nvar smallPen = document.getElementById('Pen');\nvar verysmallPen = document.getElementById('Pen-');\n\nverybigPen.onclick = function() {\n    isDrawing = false;\n    context.lineWidth = 18;\n};\n\nbigPen.onclick = function() {\n    isDrawing = false;\n    context.lineWidth = 12;\n};\n\nsmallPen.onclick = function() {\n    isDrawing = false;\n    context.lineWidth = 6;\n};\n\nverysmallPen.onclick = function() {\n    isDrawing = false;\n    context.lineWidth = 2;\n};\n\nerase.onclick = function() {\n    drawPinceau = true;\n    drawRectangle = false;\n    drawCircle = false;\n    drawLine = false;\n    fillIn = false;\n    isDrawing = false;\n    context.strokeStyle = \"white\";\n};\n\npinceau.onclick = function() {\n    isDrawing = false;\n    drawPinceau = true;\n    drawRectangle = false;\n    drawCircle = false;\n    drawLine = false;\n    fillIn = false;\n    context.strokeStyle = \"black\"\n};\n\nclear.onclick = function() {\n    drawPinceau = true;\n    drawRectangle = false;\n    drawCircle = false;\n    drawLine = false;\n    fillIn = false;\n    isDrawing = false;\n    context.clearRect(0,0,1000,1000);\n    context.strokeStyle = \"black\";\n};\n\nrect.onclick = function() {\n    drawPinceau = false;\n    drawRectangle = true;\n    drawCircle = false;\n    drawLine = false;\n    fillIn = false;\n    //context.strokeStyle = \"black\";\n};\n\ncircle.onclick = function() {\n    drawPinceau = false;\n    drawRectangle = false;\n    drawCircle = true;\n    drawLine = false;\n    fillIn = false;\n    //context.strokeStyle = \"black\";\n};\n\nline.onclick = function() {\n    drawPinceau = false;\n    drawRectangle = false;\n    drawCircle = false;\n    drawLine = true;\n    fillIn = false;\n    //context.strokeStyle = \"black\";\n}\n\n//crée un fond blanc dans le canvas, cette fonction DOIT rester au dessus du save\nfunction fillBackground(){\n  context.fillStyle = 'white';\n  context.fillRect(0,0,600,600);\n}\nfillBackground();\n\nfill.onclick = function()\n{\n  drawPinceau = false;\n  drawRectangle = false;\n  drawCircle = false;\n  drawLine = false;\n  fillIn = true;\n}\n\n//Enregister une image\nsave.onclick = function() {\n  var img = document.createElement('a');\n  img.href = canvas.toDataURL('image/jpg', 1.0); //premier param demande d'être en jpg , le deuxieme dit que la conversion ce fait en HD.\n  img.download = ('dessine-moi.jpg');\n  img.click();\n}\n\n//Fonction de dessin\nfunction getMousePos(canvas, mouse) {\n  var rect = canvas.getBoundingClientRect(); // retourne sa position par rapport à la zone d'affichage.\n  return {\n    x: mouse.clientX - rect.left, // position en X de la souris - ditance depuis la droite de la fenêtre par rapport à la zone  de dessin.\n    y: mouse.clientY - rect.top // position en Y de la souris - ditance depuis le haut de la fenêtre par rapport à la zone de dessin.\n  };\n}\n\nvar posInit;\nvar posEnd;\nvar sourceCanvas;\n\ncanvas.onmousedown = function (mouse) { //on commence le dessin\n  sourceCanvas = canvas.toDataURL('image/jpeg', 1.0);\n  if (drawPinceau)\n  {\n    var pos = getMousePos(canvas, mouse); // position (x,y) du crayon\n    isDrawing = true;\n    context.beginPath(); // commencer un nouveau trait\n    context.moveTo(pos.x, pos.y); //déplacer le crayon avec la méthode à la nouvelle position\n  }\n  if (drawRectangle)\n  {\n    posInit=getMousePos(canvas,mouse);\n    isDrawing = true;\n    context.beginPath();\n  }\n  if(drawCircle)\n  {\n    posInit=getMousePos(canvas,mouse);\n    isDrawing = true;\n  }\n  if(drawLine)\n  {\n    posInit=getMousePos(canvas,mouse);\n    isDrawing = true;\n    context.beginPath();\n    context.moveTo(posInit.x, posInit.y);\n  }\n  if(fillIn)\n  {\n    posInit=getMousePos(canvas,mouse);\n    isDrawing = true;\n    context.beginPath();\n  }\n};\n\ncanvas.onmouseup = function (mouse) { //on arrete le dessin\n  if (isDrawing  && drawRectangle)\n  {\n    posEnd=getMousePos(canvas,mouse);\n    context.strokeRect(posInit.x, posInit.y, posEnd.x - posInit.x, posEnd.y - posInit.y);\n  }\n\n  if(isDrawing && drawCircle)\n  {\n    posEnd=getMousePos(canvas,mouse);\n    context.beginPath();\n    context.ellipse(posInit.x, posInit.y, Math.abs(posEnd.x - posInit.x), Math.abs(posEnd.y - posInit.y), 0, 0, 2*Math.PI);\n    context.stroke();\n  }\n  if(isDrawing && drawLine)\n  {\n    posEnd=getMousePos(canvas,mouse);\n    context.lineTo(posEnd.x, posEnd.y);\n    context.stroke();\n  }\n  if(isDrawing && fillIn)\n  {\n    posEnd=getMousePos(canvas,mouse);\n    //context.fillStyle;\n    console.log(\"blablabla\");\n  }\n  isDrawing = false;\n};\n\ncanvas.onmousemove = function (mouse) {\n  if (isDrawing && drawPinceau) {\n    var pos = getMousePos(canvas, mouse); // position (x,y) du crayon\n    context.lineTo(pos.x, pos.y); // dessiner une ligne\n    context.linecap = 'round';\n    context.stroke();\n  }\n\n  if (isDrawing && drawRectangle)\n  {\n    drawDataURIOnCanvas(sourceCanvas);\n    posEnd = getMousePos(canvas, mouse); // position (x,y) du crayon\n    context.strokeRect(posInit.x, posInit.y, posEnd.x - posInit.x, posEnd.y - posInit.y);\n  }\n  if(isDrawing && drawCircle)\n  {\n    drawDataURIOnCanvas(sourceCanvas);\n    posEnd=getMousePos(canvas,mouse);\n    context.beginPath();\n    context.ellipse(posInit.x, posInit.y, Math.abs(posEnd.x - posInit.x), Math.abs(posEnd.y - posInit.y), 0, 0, 2*Math.PI);\n    context.stroke();\n  }\n  // if(isDrawing && drawLine)\n  // {\n  //   drawDataURIOnCanvas(sourceCanvas);\n  //   posEnd=getMousePos(canvas,mouse);\n  //   context.lineTo(posEnd.x, posEnd.y);\n  //   context.stroke();\n  // }\n};\n\n\nfunction drawDataURIOnCanvas(strDataURI) {  //elle prend en param l'url d'une image, ici le cache du canvas et le draw.\n  var img2 = new window.Image();\n  img2.addEventListener(\"load\", function () {\n      canvas.getContext(\"2d\").drawImage(img2, 0, 0,600,600);\n  });\n  img2.setAttribute(\"src\", strDataURI);\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}