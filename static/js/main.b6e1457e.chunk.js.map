{"version":3,"sources":["../node_modules/peerjs/dist sync","connexion.js","reportWebVitals.js","App.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","stream","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","conn","peerID","connID","peer","Peer","Connexion","document","getElementById","value","innerHTML","connect","call","on","remoteStream","myStream","srcObject","answer","data","chatBox","div1","createElement","div2","span","setAttribute","appendChild","console","log","App","className","class","placeholder","onClick","width","height","onChange","hex","ColorChange","circleSize","colors","download","autoPlay","ReactDOM","render","StrictMode","canvas","context","getContext","captureStream","getElementsByClassName","isDrawing","erase","pinceau","clear","rect","rectfull","circle","circlefull","line","fill","undo","save","lineWidth","sourceCanvas","drawPinceau","drawRectangle","drawRectangleFull","drawCircle","drawCircleFull","drawLine","fillIn","strokeStyle","fillStyle","fillRect","onclick","message","pseudos","send","Send","posInit","posEnd","verybigPen","bigPen","smallPen","verysmallPen","getMousePos","mouse","getBoundingClientRect","x","clientX","left","y","clientY","top","drawDataURIOnCanvas","strDataURI","img2","window","Image","addEventListener","drawImage","toDataURL","event","ctrlKey","key","img","href","click","onmousedown","beginPath","arc","Math","PI","lineCap","moveTo","onmouseup","strokeRect","ellipse","abs","stroke","lineTo","onmousemove","pos"],"mappings":"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","file":"static/js/main.b6e1457e.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 199;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport reactCSS from 'reactcss';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport App from './App';\r\nimport Peer from 'peerjs';\r\n\r\n//Canvas\r\nvar canvas;\r\nvar stream;\r\n\r\n//Set le canvas\r\nexport function SetCanvas(varCanvas){\r\n  canvas = varCanvas;\r\n  stream = canvas.captureStream(300);\r\n}\r\n\r\n//Fonction de PeerJS\r\nvar peer = new Peer();\r\nvar conn;\r\nvar peerID;\r\nvar connID;\r\n\r\n////////////////////////////////////////////////////////\r\n//Stream\r\nfunction VideoStream(myStream){\r\n  var video = document.getElementById('Video');\r\n  video.srcObject = myStream;\r\n}\r\n\r\n////////////////////////////////////////////////////////\r\n//Mon ID peerJS\r\npeer.on('open', function(id) {\r\n  peerID = id;\r\n  document.getElementById(\"show-peer\").innerHTML = peerID;\r\n});\r\n\r\n////////////////////////////////////////////////////////\r\n//Connexion\r\nexport function Connexion() {\r\n  connID = document.getElementById(\"peerID\").value; //Id du host\r\n  document.getElementById(\"show-peer\").innerHTML = \"Connexion \" + connID;\r\n  conn = peer.connect(connID);\r\n  var mystream = peer.call(connID, stream);\r\n  mystream.on('stream', function(remoteStream){\r\n    VideoStream(remoteStream);\r\n  });\r\n}\r\n\r\n////////////////////////////////////////////////////////\r\n//reception stream\r\npeer.on('call', function(call) {\r\n  call.answer(stream); // Answer the call with an A/V stream.\r\n})\r\n\r\n////////////////////////////////////////////////////////\r\n//Envoyer des messages\r\nexport function Send(message, pseudos) {\r\n  var chatBox = document.getElementById(\"chatBox\")\r\n  var div1 = document.createElement(\"div\");\r\n  var div2 = document.createElement(\"div\");\r\n  var span = document.createElement(\"span\");\r\n\r\n  conn = peer.connect(connID);\r\n\r\n  connID = document.getElementById(\"peerID\").value; //Id du host\r\n  document.getElementById(\"show-peer\").innerHTML = \"Connexion \" + connID;\r\n\r\n  div1.setAttribute(\"class\", \"d-flex justify-content-start mb-4\");\r\n  div2.setAttribute(\"class\", \"msg_cotainer\");\r\n  span.setAttribute(\"class\", \"msg_time\");\r\n\r\n  div2.innerHTML = pseudos + \" : \" + message;\r\n\r\n  div2.appendChild(span);\r\n  div1.appendChild(div2);\r\n  chatBox.appendChild(div1);\r\n\r\n  peer.on('open', function(id) {\r\n    peerID = id;\r\n    console.log(peerID);\r\n  });\r\n\r\n  conn.on('open', function(id) {\r\n    conn.send(pseudos + \" : \" + message);\r\n  });\r\n}\r\n\r\n////////////////////////////////////////////////////////\r\n//Reception\r\npeer.on('connection', function(conn) {\r\n  conn.on('data', function(data){\r\n\r\n    var chatBox = document.getElementById(\"chatBox\")\r\n    var div1 = document.createElement(\"div\");\r\n    var div2 = document.createElement(\"div\");\r\n    var span = document.createElement(\"span\");\r\n\r\n    div1.setAttribute(\"class\", \"d-flex justify-content-start mb-4\");\r\n    div2.setAttribute(\"class\", \"msg_cotainer\");\r\n    span.setAttribute(\"class\", \"msg_time\");\r\n\r\n    div2.innerHTML = data;\r\n\r\n    div2.appendChild(span);\r\n    div1.appendChild(div2);\r\n    chatBox.appendChild(div1);\r\n\r\n    console.log(data);\r\n  });\r\n});\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './App.css';\r\nimport React, {useState} from 'react';\r\nimport reactCSS from 'reactcss';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n// React Color\r\nimport {CirclePicker} from 'react-color';\r\n// React Icons\r\nimport { BiSave, BiEraser, BiSend} from 'react-icons/bi';\r\nimport { FaPaintBrush, FaTrashAlt, FaCircle, FaSquare } from 'react-icons/fa';\r\nimport { BsCircle, BsSquare } from 'react-icons/bs';\r\nimport { SiCurl } from \"react-icons/si\";\r\nimport { VscPaintcan } from 'react-icons/vsc';\r\nimport { RiArrowGoBackFill } from \"react-icons/ri\";\r\n// fonction\r\nimport {ColorChange, DownloadCanvas} from './index';\r\nimport {Connexion} from './connexion';\r\n\r\nfunction App() {\r\n  //const colorChange = ({ hex }) => hex = ColorChange(hex); // fonction change la couleur du pinceau\r\n  const colorChange = ({hex}) => {\r\n    hex = ColorChange(hex); // fonction change la couleur du pinceau\r\n  }\r\n\r\n  return (\r\n<div className=\"background row\">\r\n        <div class=\"row\">\r\n            <div className=\"titre \">\r\n              <h3 id=\"show-peer\"></h3>\r\n              <input id=\"pseudos\" placeholder=\"Nicknames\"></input>\r\n              <input id=\"peerID\" placeholder=\"Host ID\"></input>\r\n              <button onClick={Connexion}> Connexion </button>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div class=\"row\">\r\n            <div className=\"score col-sd\">Score</div>\r\n\r\n            <div className=\"drawbox col-sd\">\r\n              <canvas id=\"DrawBox\" width=\"670\" height=\"670\"></canvas>\r\n            </div>\r\n\r\n            <div className= \"col-sd\">\r\n                <button className=\"styleB tresgrand outils1\" id=\"Pen++\"><FaCircle/></button>\r\n                <button className=\"styleB grand outils1\" id=\"Pen+\"><FaCircle/></button>\r\n                <button className=\"styleB moyen outils1\" id=\"Pen\"><FaCircle/></button>\r\n                <button className=\"styleB petit outils1\" id=\"Pen-\"><FaCircle/></button>\r\n                <button className=\"styleB outils1\" id=\"Pinceau\"><FaPaintBrush/></button>\r\n                <button className=\"styleB outils1\" id=\"drawRect\"><BsSquare/></button>\r\n                <button className=\"styleB outils1\" id=\"drawRectFull\"><FaSquare/></button>\r\n                <button className=\"styleB outils1\" id=\"drawCircle\"><BsCircle/></button>\r\n                <button className=\"styleB outils1\" id=\"drawCircleFull\"><FaCircle/></button>\r\n                <button className=\"styleB outils1\" id=\"drawLine\"><SiCurl/></button>\r\n                <button className=\"styleB outils1\" id=\"fillIn\"><VscPaintcan/></button>\r\n            </div>\r\n\r\n            <div className=\"couleurs col-sd\">\r\n                <CirclePicker\r\n                  onChange={colorChange}\r\n                  width = {1}\r\n                  circleSize ={26}\r\n                  colors = {[\"#f44336\", \"#e91e63\", \"#9c27b0\", \"#673ab7\", \"#3f51b5\", \"#2196f3\", \"#03a9f4\", \"#00bcd4\", \"#009688\", \"#4caf50\", \"#8bc34a\", \"#cddc39\", \"#ffeb3b\", \"#ffc107\", \"#ff9800\", \"#ff5722\", \"#795548\", \"#607d8b\", \"black\", \"white\"]}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"card  col-sd\">\r\n                <div id=\"chatBox\" className=\"card-body msg_card_body\"></div>\r\n                    <div className=\"card-footer input-group\">\r\n                        <input id=\"message\" className=\"form-control type_msg\" placeholder=\"Type your message...\"></input>\r\n                        <div className=\"input-group-append\">\r\n                            <button id=\"send\" className=\"input-group-text send_btn\" ><BiSend/></button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n           </div>\r\n\r\n           <div class=\"row  col-5\">\r\n              <button className=\"styleB outils2\" id=\"Erase\"><BiEraser/></button>\r\n              <button className=\"styleB outils2\" id=\"Clear\"><FaTrashAlt/></button>\r\n              <button className=\"styleB outils2\" id=\"Bundo\"><RiArrowGoBackFill/></button>\r\n              <button className=\"styleB outils2\" download=\"example.jpg\" id=\"saveImage\"><BiSave/></button>\r\n            </div>\r\n\r\n            <div class=\"row  col-5\">\r\n                <video autoPlay id=\"Video\" width=\"600\" height=\"600\"></video>\r\n            </div>\r\n</div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport reactCSS from 'reactcss';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport App from './App';\r\nimport Peer from 'peerjs';\r\nimport {Connexion, SetCanvas, Send} from './connexion';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App/>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n//Canvas\r\nvar canvas = document.getElementById('DrawBox');\r\nvar context = canvas.getContext('2d');\r\nSetCanvas(canvas);\r\n\r\n//Pen\r\nvar color = document.getElementsByClassName('color');\r\nvar erase = document.getElementById('Erase');\r\nvar pinceau = document.getElementById('Pinceau');\r\nvar clear = document.getElementById('Clear');\r\nvar rect = document.getElementById('drawRect');\r\nvar rectfull = document.getElementById('drawRectFull');\r\nvar circle = document.getElementById('drawCircle');\r\nvar circlefull = document.getElementById('drawCircleFull');\r\nvar line = document.getElementById('drawLine');\r\nvar fill = document.getElementById('fillIn');\r\nvar undo = document.getElementById('Bundo');\r\nvar save = document.getElementById('saveImage');\r\ncontext.lineWidth = 6;\r\nvar isDrawing;\r\nvar drawPinceau = true;\r\nvar drawRectangle = false;\r\nvar drawRectangleFull = false;\r\nvar drawCircle = false;\r\nvar drawCircleFull = false;\r\nvar drawLine = false;\r\nvar fillIn = false;\r\nvar sourceCanvas;\r\n\r\n\r\n//initialise le canvas avec un fond blanc et les outils sont de couleur noir de base\r\nfunction CanvasInit(){\r\n  context.fillStyle = 'white';\r\n  context.fillRect(0,0,canvas.width, canvas.height);\r\n  context.fillStyle = 'black';\r\n  context.strokeStyle = 'black'\r\n}\r\nCanvasInit();\r\n\r\n//setup les variables pour la fonction Send() ('envoyer un message')\r\nvar send = document.getElementById('send');\r\nsend.onclick = function(){\r\n  var message = document.getElementById(\"message\").value;\r\n  var pseudos = document.getElementById('pseudos').value;\r\n  Send(message, pseudos);\r\n  document.getElementById(\"message\").value = \"\";\r\n}\r\n\r\n//Fonction sur le pinceau\r\nexport function ColorChange(hex){\r\n    isDrawing = false;\r\n    context.strokeStyle = hex; // change la couleur du trait\r\n    context.fillStyle = hex;\r\n}\r\n\r\nvar verybigPen = document.getElementById('Pen++');\r\nvar bigPen = document.getElementById('Pen+');\r\nvar smallPen = document.getElementById('Pen');\r\nvar verysmallPen = document.getElementById('Pen-');\r\n\r\nverybigPen.onclick = function() {\r\n    isDrawing = false;\r\n    context.lineWidth = 18;\r\n};\r\n\r\nbigPen.onclick = function() {\r\n    isDrawing = false;\r\n    context.lineWidth = 12;\r\n};\r\n\r\nsmallPen.onclick = function() {\r\n    isDrawing = false;\r\n    context.lineWidth = 6;\r\n};\r\n\r\nverysmallPen.onclick = function() {\r\n    isDrawing = false;\r\n    context.lineWidth = 2;\r\n};\r\n\r\nerase.onclick = function() {\r\n    drawPinceau = true;\r\n    drawRectangle = false;\r\n    drawRectangleFull = false;\r\n    drawCircle = false;\r\n    drawCircleFull=false;\r\n    drawLine = false;\r\n    fillIn = false;\r\n    isDrawing = false;\r\n    context.strokeStyle = \"white\";\r\n};\r\n\r\npinceau.onclick = function() {\r\n    isDrawing = false;\r\n    drawPinceau = true;\r\n    drawRectangle = false;\r\n    drawRectangleFull = false;\r\n    drawCircle = false;\r\n    drawCircleFull=false;\r\n    drawLine = false;\r\n    fillIn = false;\r\n    context.strokeStyle = \"black\"\r\n};\r\n\r\nclear.onclick = function() {\r\n    sourceCanvas = canvas.toDataURL('image/jpeg', 1.0);\r\n    drawPinceau = true;\r\n    drawRectangle = false;\r\n    drawRectangleFull = false;\r\n    drawCircle = false;\r\n    drawCircleFull=false;\r\n    drawLine = false;\r\n    fillIn = false;\r\n    isDrawing = false;\r\n    context.fillStyle = 'white';\r\n    context.fillRect(0,0,canvas.width, canvas.height);\r\n    context.fillStyle = 'black';\r\n    // context.strokeStyle = \"black\";\r\n};\r\n\r\nrect.onclick = function() {\r\n    drawPinceau = false;\r\n    drawRectangle = true;\r\n    drawRectangleFull = false;\r\n    drawCircle = false;\r\n    drawCircleFull=false\r\n    drawLine = false;\r\n    fillIn = false;\r\n    // context.strokeStyle = \"black\";\r\n};\r\n\r\nrectfull.onclick = function() {\r\n    drawPinceau = false;\r\n    drawRectangle = false;\r\n    drawRectangleFull = true;\r\n    drawCircle = false;\r\n    drawCircleFull=false;\r\n    drawLine = false;\r\n    fillIn = false;\r\n    // context.fillStyle = \"black\";\r\n};\r\n\r\ncircle.onclick = function() {\r\n    drawPinceau = false;\r\n    drawRectangle = false;\r\n    drawRectangleFull = false;\r\n    drawCircle = true;\r\n    drawCircleFull=false;\r\n    drawLine = false;\r\n    fillIn = false;\r\n    // context.strokeStyle = \"black\";\r\n};\r\n\r\ncirclefull.onclick = function() {\r\n    drawPinceau = false;\r\n    drawRectangle = false;\r\n    drawRectangleFull = false;\r\n    drawCircle = false;\r\n    drawCircleFull=true;\r\n    drawLine = false;\r\n    fillIn = false;\r\n    // context.fillStyle = \"black\";\r\n};\r\n\r\nline.onclick = function() {\r\n    drawPinceau = false;\r\n    drawRectangle = false;\r\n    drawRectangleFull = false;\r\n    drawCircle = false;\r\n    drawCircleFull=false;\r\n    drawLine = true;\r\n    fillIn = false;\r\n    // context.strokeStyle = \"black\";\r\n}\r\n\r\nfill.onclick = function()\r\n{\r\n  drawPinceau = false;\r\n  drawRectangle = false;\r\n  drawRectangleFull = false;\r\n  drawCircle = false;\r\n  drawCircleFull=false;\r\n  drawLine = false;\r\n  fillIn = true;\r\n}\r\n\r\nundo.onclick = function() {\r\n  drawDataURIOnCanvas(sourceCanvas);\r\n}\r\n\r\ndocument.addEventListener('keydown', function(event) {\r\n  if (event.ctrlKey && event.key === 'z') {\r\n    drawDataURIOnCanvas(sourceCanvas);\r\n  }\r\n});\r\n\r\n//Enregister une image\r\nsave.onclick = function() {\r\n  var img = document.createElement('a');\r\n  img.href = canvas.toDataURL('image/jpg', 1.0); //premier param demande d'être en jpg , le deuxieme dit que la conversion ce fait en HD.\r\n  img.download = ('dessine-moi.jpg');\r\n  img.click();\r\n}\r\n\r\n//Fonction de dessin\r\nfunction getMousePos(canvas, mouse) {\r\n  var rect = canvas.getBoundingClientRect(); // retourne sa position par rapport à la zone d'affichage.\r\n  return {\r\n    x: mouse.clientX - rect.left, // position en X de la souris - ditance depuis la droite de la fenêtre par rapport à la zone  de dessin.\r\n    y: mouse.clientY - rect.top // position en Y de la souris - ditance depuis le haut de la fenêtre par rapport à la zone de dessin.\r\n  };\r\n}\r\n\r\nvar posInit;\r\nvar posEnd;\r\n\r\ncanvas.onmousedown = function (mouse) { //on commence le dessin\r\n  sourceCanvas = canvas.toDataURL('image/jpeg', 1.0);\r\n  if (drawPinceau)\r\n  {\r\n    posInit = getMousePos(canvas, mouse); // position (x,y) du crayon\r\n    isDrawing = true;\r\n\r\n    context.beginPath();\r\n    context.arc(posInit.x, posInit.y, context.lineWidth/2, 0, 2 * Math.PI, false);\r\n    context.fill();\r\n\r\n    context.beginPath(); // commencer un nouveau trait\r\n    context.lineCap = 'round';\r\n    context.moveTo(posInit.x, posInit.y); //déplacer le crayon avec la méthode à la nouvelle position\r\n  }\r\n  if (drawRectangle)\r\n  {\r\n    posInit=getMousePos(canvas,mouse);\r\n    isDrawing = true;\r\n  }\r\n  if (drawRectangleFull)\r\n  {\r\n    posInit=getMousePos(canvas,mouse);\r\n    isDrawing = true;\r\n  }\r\n  if(drawCircle)\r\n  {\r\n    posInit=getMousePos(canvas,mouse);\r\n    isDrawing = true;\r\n  }\r\n  if(drawCircleFull)\r\n  {\r\n    posInit=getMousePos(canvas,mouse);\r\n    isDrawing = true;\r\n  }\r\n  if(drawLine)\r\n  {\r\n    posInit=getMousePos(canvas,mouse);\r\n    isDrawing = true;\r\n  }\r\n  if(fillIn)\r\n  {\r\n    posInit=getMousePos(canvas,mouse);\r\n    isDrawing = true;\r\n    context.beginPath();\r\n  }\r\n};\r\n\r\ncanvas.onmouseup = function (mouse) { //on arrete le dessin\r\n  if (isDrawing  && drawRectangle)\r\n  {\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.beginPath();\r\n    context.strokeRect(posInit.x, posInit.y, posEnd.x - posInit.x, posEnd.y - posInit.y);\r\n  }\r\n  if (isDrawing  && drawRectangleFull)\r\n  {\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.beginPath();\r\n    context.fillRect(posInit.x, posInit.y, posEnd.x - posInit.x, posEnd.y - posInit.y);\r\n  }\r\n\r\n  if(isDrawing && drawCircle)\r\n  {\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.beginPath();\r\n    context.ellipse(posInit.x, posInit.y, Math.abs(posEnd.x - posInit.x), Math.abs(posEnd.y - posInit.y), 0, 0, 2*Math.PI);\r\n    context.stroke();\r\n  }\r\n  if(isDrawing && drawCircleFull)\r\n  {\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.beginPath();\r\n    context.ellipse(posInit.x, posInit.y, Math.abs(posEnd.x - posInit.x), Math.abs(posEnd.y - posInit.y), 0, 0, 2*Math.PI);\r\n    context.fill();\r\n  }\r\n\r\n  if(isDrawing && drawLine)\r\n  {\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.beginPath();\r\n    context.moveTo(posInit.x, posInit.y);\r\n    context.lineTo(posEnd.x, posEnd.y);\r\n    context.stroke();\r\n  }\r\n  if(isDrawing && fillIn)\r\n  {\r\n    posEnd=getMousePos(canvas,mouse);\r\n    //context.fillStyle;\r\n    console.log(\"blablabla\");\r\n  }\r\n  isDrawing = false;\r\n};\r\n\r\ncanvas.onmousemove = function (mouse) {\r\n  if (isDrawing && drawPinceau) {\r\n    var pos = getMousePos(canvas, mouse); // position (x,y) du crayon\r\n    context.lineTo(pos.x, pos.y); // dessiner une ligne\r\n    context.stroke();\r\n  }\r\n\r\n  if (isDrawing && drawRectangle)\r\n  {\r\n    drawDataURIOnCanvas(sourceCanvas);\r\n    posEnd = getMousePos(canvas, mouse); // position (x,y) du crayon\r\n    context.beginPath();\r\n    context.strokeRect(posInit.x, posInit.y, posEnd.x - posInit.x, posEnd.y - posInit.y);\r\n  }\r\n  if (isDrawing && drawRectangleFull)\r\n  {\r\n    drawDataURIOnCanvas(sourceCanvas);\r\n    posEnd = getMousePos(canvas, mouse); // position (x,y) du crayon\r\n    context.beginPath();\r\n    context.fillRect(posInit.x, posInit.y, posEnd.x - posInit.x, posEnd.y - posInit.y);\r\n  }\r\n\r\n  if(isDrawing && drawCircle)\r\n  {\r\n    drawDataURIOnCanvas(sourceCanvas);\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.beginPath();\r\n    context.ellipse(posInit.x, posInit.y, Math.abs(posEnd.x - posInit.x), Math.abs(posEnd.y - posInit.y), 0, 0, 2*Math.PI);\r\n    context.stroke();\r\n  }\r\n  if(isDrawing && drawCircleFull)\r\n  {\r\n    drawDataURIOnCanvas(sourceCanvas);\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.beginPath();\r\n    context.ellipse(posInit.x, posInit.y, Math.abs(posEnd.x - posInit.x), Math.abs(posEnd.y - posInit.y), 0, 0, 2*Math.PI);\r\n    context.fill();\r\n  }\r\n\r\n  if(isDrawing && drawLine)\r\n  {\r\n    drawDataURIOnCanvas(sourceCanvas);\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.beginPath();\r\n    context.moveTo(posInit.x, posInit.y);\r\n    context.lineTo(posEnd.x, posEnd.y);\r\n    context.stroke();\r\n  }\r\n};\r\n\r\n\r\nfunction drawDataURIOnCanvas(strDataURI) {  //elle prend en param l'url d'une image, ici le cache du canvas et le draw.\r\n  var img2 = new window.Image();\r\n  img2.addEventListener(\"load\", function () {\r\n      canvas.getContext(\"2d\").drawImage(img2, 0, 0,canvas.width, canvas.height);\r\n  });\r\n  img2.setAttribute(\"src\", strDataURI);\r\n}\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}