{"version":3,"sources":["../node_modules/peerjs/dist sync","connexion.js","reportWebVitals.js","App.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","stream","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","conn","peerID","connID","peer","Peer","Connexion","document","getElementById","value","innerHTML","connect","call","on","remoteStream","myStream","srcObject","Send","chatBox","div1","createElement","div2","span","message","setAttribute","pseudos","console","log","appendChild","send","answer","data","App","className","onClick","width","height","download","onChange","hex","ColorChange","circleSize","colors","placeholder","autoPlay","ReactDOM","render","StrictMode","canvas","context","getContext","captureStream","getElementsByClassName","isDrawing","erase","pinceau","clear","rect","rectfull","circle","circlefull","line","fill","undo","save","lineWidth","sourceCanvas","drawPinceau","drawRectangle","drawRectangleFull","drawCircle","drawCircleFull","drawLine","fillIn","strokeStyle","fillStyle","fillRect","posInit","posEnd","verybigPen","bigPen","smallPen","verysmallPen","getMousePos","mouse","getBoundingClientRect","x","clientX","left","y","clientY","top","drawDataURIOnCanvas","strDataURI","img2","window","Image","addEventListener","drawImage","onclick","toDataURL","event","ctrlKey","key","img","href","click","onmousedown","beginPath","arc","Math","PI","lineCap","moveTo","onmouseup","strokeRect","ellipse","abs","stroke","lineTo","onmousemove","pos"],"mappings":"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","file":"static/js/main.d6bff582.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 199;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport reactCSS from 'reactcss';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport App from './App';\r\nimport Peer from 'peerjs';\r\n\r\nvar pseudos = \"Ekhynox\"\r\n\r\n//Canvas\r\nvar canvas;\r\nvar stream;\r\n\r\n//Set le canvas\r\nexport function SetCanvas(varCanvas){\r\n  canvas = varCanvas;\r\n  stream = canvas.captureStream(60);\r\n}\r\n\r\n//Fonction de PeerJS\r\nvar peer = new Peer();\r\nvar conn;\r\nvar peerID;\r\nvar connID;\r\n\r\n////////////////////////////////////////////////////////\r\n//Stream\r\nfunction VideoStream(myStream){\r\n  var video = document.getElementById('Video');\r\n  video.srcObject = myStream;\r\n}\r\n\r\n////////////////////////////////////////////////////////\r\n//Mon ID peerJS\r\npeer.on('open', function(id) {\r\n  peerID = id;\r\n  document.getElementById(\"show-peer\").innerHTML = peerID;\r\n});\r\n\r\n////////////////////////////////////////////////////////\r\n//Connexion\r\nexport function Connexion() {\r\n  connID = document.getElementById(\"peerID\").value; //Id du host\r\n  document.getElementById(\"show-peer\").innerHTML = \"Connexion \" + connID;\r\n  conn = peer.connect(connID);\r\n  var mystream = peer.call(connID, stream);\r\n  mystream.on('stream', function(remoteStream){\r\n    VideoStream(remoteStream);\r\n  });\r\n}\r\n\r\n////////////////////////////////////////////////////////\r\n//reception stream\r\npeer.on('call', function(call) {\r\n  call.answer(stream); // Answer the call with an A/V stream.\r\n})\r\n\r\n////////////////////////////////////////////////////////\r\n//Envoyer des messages\r\nexport function Send() {\r\n  var chatBox = document.getElementById(\"chatBox\")\r\n  var div1 = document.createElement(\"div\");\r\n  var div2 = document.createElement(\"div\");\r\n  var span = document.createElement(\"span\");\r\n  var message = document.getElementById(\"message\");\r\n  conn = peer.connect(connID);\r\n\r\n  connID = document.getElementById(\"peerID\").value; //Id du host\r\n  document.getElementById(\"show-peer\").innerHTML = \"Connexion \" + connID;\r\n\r\n  div1.setAttribute(\"class\", \"d-flex justify-content-start mb-4\");\r\n  div2.setAttribute(\"class\", \"msg_cotainer\");\r\n  span.setAttribute(\"class\", \"msg_time\");\r\n\r\n  div2.innerHTML = pseudos + \" : \" + message.value;\r\n  document.getElementById(\"message\").value = \"\";\r\n  console.log(message.value)\r\n\r\n  div2.appendChild(span);\r\n  div1.appendChild(div2);\r\n  chatBox.appendChild(div1);\r\n\r\n  peer.on('open', function(id) {\r\n    peerID = id;\r\n    console.log(peerID);\r\n  });\r\n\r\n  conn.on('open', function(id) {\r\n    conn.send(pseudos + \" : \" + message.value);\r\n  });\r\n}\r\n\r\n////////////////////////////////////////////////////////\r\n//Reception\r\npeer.on('connection', function(conn) {\r\n  conn.on('data', function(data){\r\n\r\n    var chatBox = document.getElementById(\"chatBox\")\r\n    var div1 = document.createElement(\"div\");\r\n    var div2 = document.createElement(\"div\");\r\n    var span = document.createElement(\"span\");\r\n\r\n    div1.setAttribute(\"class\", \"d-flex justify-content-start mb-4\");\r\n    div2.setAttribute(\"class\", \"msg_cotainer\");\r\n    span.setAttribute(\"class\", \"msg_time\");\r\n\r\n    div2.innerHTML = data;\r\n\r\n    div2.appendChild(span);\r\n    div1.appendChild(div2);\r\n    chatBox.appendChild(div1);\r\n\r\n    console.log(data);\r\n  });\r\n});\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './App.css';\r\nimport React, {useState} from 'react';\r\nimport reactCSS from 'reactcss';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n// React Color\r\nimport {CirclePicker} from 'react-color';\r\n// React Icons\r\nimport { BiSave, BiEraser, BiSend} from 'react-icons/bi';\r\nimport { FaPaintBrush, FaTrashAlt, FaCircle, FaSquare } from 'react-icons/fa';\r\nimport { BsCircle, BsSquare } from 'react-icons/bs';\r\nimport { SiCurl } from \"react-icons/si\";\r\nimport { VscPaintcan } from 'react-icons/vsc';\r\nimport { RiArrowGoBackFill } from \"react-icons/ri\";\r\n// fonction\r\nimport {ColorChange, DownloadCanvas} from './index';\r\nimport {Connexion, Send} from './connexion';\r\n\r\nfunction App() {\r\n  //const colorChange = ({ hex }) => hex = ColorChange(hex); // fonction change la couleur du pinceau\r\n  const colorChange = ({hex}) => {\r\n    hex = ColorChange(hex); // fonction change la couleur du pinceau\r\n  }\r\n\r\n  return (\r\n    <div className=\"background\">\r\n      <div className=\"wrapper\">\r\n          <div className=\"titre\">\r\n            <h3 id=\"show-peer\"></h3>\r\n            <input id=\"peerID\"></input>\r\n            <button onClick={Connexion}> Connexion </button>\r\n          </div>\r\n          <div className=\"drawbox\">\r\n            <canvas id=\"DrawBox\" width=\"600\" height=\"600\"></canvas>\r\n          </div>\r\n          <div className=\"outils\">\r\n            <button className=\"styleB tresgrand\" id=\"Pen++\"><FaCircle/></button>\r\n            <button className=\"styleB grand\" id=\"Pen+\"><FaCircle/></button>\r\n            <button className=\"styleB moyen\" id=\"Pen\"><FaCircle/></button>\r\n            <button className=\"styleB petit\" id=\"Pen-\"><FaCircle/></button>\r\n            <button className=\"styleB\" id=\"Pinceau\"><FaPaintBrush/></button>\r\n            <button className=\"styleB\" id=\"Erase\"><BiEraser/></button>\r\n            <button className=\"styleB\" id=\"Clear\"><FaTrashAlt/></button>\r\n\r\n            <button className=\"styleB\" id=\"drawRect\"><BsSquare/></button>\r\n            <button className=\"styleB\" id=\"drawRectFull\"><FaSquare/></button>\r\n            <button className=\"styleB\" id=\"drawCircle\"><BsCircle/></button>\r\n            <button className=\"styleB\" id=\"drawCircleFull\"><FaCircle/></button>\r\n            <button className=\"styleB\" id=\"drawLine\"><SiCurl/></button>\r\n            <button className=\"styleB\" id=\"fillIn\"><VscPaintcan/></button>\r\n            <button className=\"styleB\" id=\"Bundo\"><RiArrowGoBackFill/></button>\r\n            <button className=\"styleB\" download=\"example.jpg\" id=\"saveImage\"><BiSave/></button>\r\n          </div>\r\n          <div className=\"couleurs\">\r\n            <CirclePicker\r\n              onChange={colorChange}\r\n              width = {1}\r\n              circleSize ={26}\r\n              colors = {[\"#f44336\", \"#e91e63\", \"#9c27b0\", \"#673ab7\", \"#3f51b5\", \"#2196f3\", \"#03a9f4\", \"#00bcd4\", \"#009688\", \"#4caf50\", \"#8bc34a\", \"#cddc39\", \"#ffeb3b\", \"#ffc107\", \"#ff9800\", \"#ff5722\", \"#795548\", \"#607d8b\", \"black\", \"white\"]}\r\n\r\n            />\r\n          </div>\r\n            <div className=\"card\">\r\n              <div id=\"chatBox\" className=\"card-body msg_card_body\">\r\n\r\n                <div className=\"d-flex justify-content-start mb-4\">\r\n                  <div className=\"msg_cotainer\">\r\n                    Ekhynox : Hello toi !\r\n                    <span className=\"msg_time\">46 Sec</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"card-footer\">\r\n                <div className=\"input-group\">\r\n                  <input id=\"message\" className=\"form-control type_msg\" placeholder=\"Type your message...\"></input>\r\n                  <div className=\"input-group-append\">\r\n                    <button id=\"send\" onClick={Send} className=\"input-group-text send_btn\" ><BiSend/></button>\r\n                  </div>\r\n                </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"score\">\r\n            Score\r\n          </div>\r\n\r\n          <div className=\"video\">\r\n            <video autoPlay id=\"Video\" width=\"600\" height=\"600\"></video>\r\n          </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport reactCSS from 'reactcss';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport App from './App';\r\nimport Peer from 'peerjs';\r\nimport {Connexion, SetCanvas} from './connexion';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App/>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n//Canvas\r\nvar canvas = document.getElementById('DrawBox');\r\nvar context = canvas.getContext('2d');\r\nSetCanvas(canvas);\r\n\r\n//Pen\r\nvar color = document.getElementsByClassName('color');\r\nvar erase = document.getElementById('Erase');\r\nvar pinceau = document.getElementById('Pinceau');\r\nvar clear = document.getElementById('Clear');\r\nvar rect = document.getElementById('drawRect');\r\nvar rectfull = document.getElementById('drawRectFull');\r\nvar circle = document.getElementById('drawCircle');\r\nvar circlefull = document.getElementById('drawCircleFull');\r\nvar line = document.getElementById('drawLine');\r\nvar fill = document.getElementById('fillIn');\r\nvar undo = document.getElementById('Bundo');\r\nvar save = document.getElementById('saveImage');\r\ncontext.lineWidth = 6;\r\nvar isDrawing;\r\nvar drawPinceau = true;\r\nvar drawRectangle = false;\r\nvar drawRectangleFull = false;\r\nvar drawCircle = false;\r\nvar drawCircleFull = false;\r\nvar drawLine = false;\r\nvar fillIn = false;\r\nvar sourceCanvas;\r\n\r\n\r\n//initialise le canvas avec un fond blanc et les outils sont de couleur noir de base\r\nfunction CanvasInit(){\r\n  context.fillStyle = 'white';\r\n  context.fillRect(0,0,canvas.width, canvas.height);\r\n  context.fillStyle = 'black';\r\n  context.strokeStyle = 'black'\r\n}\r\nCanvasInit();\r\n\r\n//Fonction sur le pinceau\r\nexport function ColorChange(hex){\r\n    isDrawing = false;\r\n    context.strokeStyle = hex; // change la couleur du trait\r\n    context.fillStyle = hex;\r\n}\r\n\r\nvar verybigPen = document.getElementById('Pen++');\r\nvar bigPen = document.getElementById('Pen+');\r\nvar smallPen = document.getElementById('Pen');\r\nvar verysmallPen = document.getElementById('Pen-');\r\n\r\nverybigPen.onclick = function() {\r\n    isDrawing = false;\r\n    context.lineWidth = 18;\r\n};\r\n\r\nbigPen.onclick = function() {\r\n    isDrawing = false;\r\n    context.lineWidth = 12;\r\n};\r\n\r\nsmallPen.onclick = function() {\r\n    isDrawing = false;\r\n    context.lineWidth = 6;\r\n};\r\n\r\nverysmallPen.onclick = function() {\r\n    isDrawing = false;\r\n    context.lineWidth = 2;\r\n};\r\n\r\nerase.onclick = function() {\r\n    drawPinceau = true;\r\n    drawRectangle = false;\r\n    drawRectangleFull = false;\r\n    drawCircle = false;\r\n    drawCircleFull=false;\r\n    drawLine = false;\r\n    fillIn = false;\r\n    isDrawing = false;\r\n    context.strokeStyle = \"white\";\r\n};\r\n\r\npinceau.onclick = function() {\r\n    isDrawing = false;\r\n    drawPinceau = true;\r\n    drawRectangle = false;\r\n    drawRectangleFull = false;\r\n    drawCircle = false;\r\n    drawCircleFull=false;\r\n    drawLine = false;\r\n    fillIn = false;\r\n    context.strokeStyle = \"black\"\r\n};\r\n\r\nclear.onclick = function() {\r\n    sourceCanvas = canvas.toDataURL('image/jpeg', 1.0);\r\n    drawPinceau = true;\r\n    drawRectangle = false;\r\n    drawRectangleFull = false;\r\n    drawCircle = false;\r\n    drawCircleFull=false;\r\n    drawLine = false;\r\n    fillIn = false;\r\n    isDrawing = false;\r\n    context.fillStyle = 'white';\r\n    context.fillRect(0,0,canvas.width, canvas.height);\r\n    context.fillStyle = 'black';\r\n    // context.strokeStyle = \"black\";\r\n};\r\n\r\nrect.onclick = function() {\r\n    drawPinceau = false;\r\n    drawRectangle = true;\r\n    drawRectangleFull = false;\r\n    drawCircle = false;\r\n    drawCircleFull=false\r\n    drawLine = false;\r\n    fillIn = false;\r\n    // context.strokeStyle = \"black\";\r\n};\r\n\r\nrectfull.onclick = function() {\r\n    drawPinceau = false;\r\n    drawRectangle = false;\r\n    drawRectangleFull = true;\r\n    drawCircle = false;\r\n    drawCircleFull=false;\r\n    drawLine = false;\r\n    fillIn = false;\r\n    // context.fillStyle = \"black\";\r\n};\r\n\r\ncircle.onclick = function() {\r\n    drawPinceau = false;\r\n    drawRectangle = false;\r\n    drawRectangleFull = false;\r\n    drawCircle = true;\r\n    drawCircleFull=false;\r\n    drawLine = false;\r\n    fillIn = false;\r\n    // context.strokeStyle = \"black\";\r\n};\r\n\r\ncirclefull.onclick = function() {\r\n    drawPinceau = false;\r\n    drawRectangle = false;\r\n    drawRectangleFull = false;\r\n    drawCircle = false;\r\n    drawCircleFull=true;\r\n    drawLine = false;\r\n    fillIn = false;\r\n    // context.fillStyle = \"black\";\r\n};\r\n\r\nline.onclick = function() {\r\n    drawPinceau = false;\r\n    drawRectangle = false;\r\n    drawRectangleFull = false;\r\n    drawCircle = false;\r\n    drawCircleFull=false;\r\n    drawLine = true;\r\n    fillIn = false;\r\n    // context.strokeStyle = \"black\";\r\n}\r\n\r\nfill.onclick = function()\r\n{\r\n  drawPinceau = false;\r\n  drawRectangle = false;\r\n  drawRectangleFull = false;\r\n  drawCircle = false;\r\n  drawCircleFull=false;\r\n  drawLine = false;\r\n  fillIn = true;\r\n}\r\n\r\nundo.onclick = function() {\r\n  drawDataURIOnCanvas(sourceCanvas);\r\n}\r\n\r\ndocument.addEventListener('keydown', function(event) {\r\n  if (event.ctrlKey && event.key === 'z') {\r\n    drawDataURIOnCanvas(sourceCanvas);\r\n  }\r\n});\r\n\r\n//Enregister une image\r\nsave.onclick = function() {\r\n  var img = document.createElement('a');\r\n  img.href = canvas.toDataURL('image/jpg', 1.0); //premier param demande d'être en jpg , le deuxieme dit que la conversion ce fait en HD.\r\n  img.download = ('dessine-moi.jpg');\r\n  img.click();\r\n}\r\n\r\n//Fonction de dessin\r\nfunction getMousePos(canvas, mouse) {\r\n  var rect = canvas.getBoundingClientRect(); // retourne sa position par rapport à la zone d'affichage.\r\n  return {\r\n    x: mouse.clientX - rect.left, // position en X de la souris - ditance depuis la droite de la fenêtre par rapport à la zone  de dessin.\r\n    y: mouse.clientY - rect.top // position en Y de la souris - ditance depuis le haut de la fenêtre par rapport à la zone de dessin.\r\n  };\r\n}\r\n\r\nvar posInit;\r\nvar posEnd;\r\n\r\ncanvas.onmousedown = function (mouse) { //on commence le dessin\r\n  sourceCanvas = canvas.toDataURL('image/jpeg', 1.0);\r\n  if (drawPinceau)\r\n  {\r\n    posInit = getMousePos(canvas, mouse); // position (x,y) du crayon\r\n    isDrawing = true;\r\n\r\n    context.beginPath();\r\n    context.arc(posInit.x, posInit.y, context.lineWidth/2, 0, 2 * Math.PI, false);\r\n    context.fill();\r\n\r\n    context.beginPath(); // commencer un nouveau trait\r\n    context.lineCap = 'round';\r\n    context.moveTo(posInit.x, posInit.y); //déplacer le crayon avec la méthode à la nouvelle position\r\n  }\r\n  if (drawRectangle)\r\n  {\r\n    posInit=getMousePos(canvas,mouse);\r\n    isDrawing = true;\r\n  }\r\n  if (drawRectangleFull)\r\n  {\r\n    posInit=getMousePos(canvas,mouse);\r\n    isDrawing = true;\r\n  }\r\n  if(drawCircle)\r\n  {\r\n    posInit=getMousePos(canvas,mouse);\r\n    isDrawing = true;\r\n  }\r\n  if(drawCircleFull)\r\n  {\r\n    posInit=getMousePos(canvas,mouse);\r\n    isDrawing = true;\r\n  }\r\n  if(drawLine)\r\n  {\r\n    posInit=getMousePos(canvas,mouse);\r\n    isDrawing = true;\r\n  }\r\n  if(fillIn)\r\n  {\r\n    posInit=getMousePos(canvas,mouse);\r\n    isDrawing = true;\r\n    context.beginPath();\r\n  }\r\n};\r\n\r\ncanvas.onmouseup = function (mouse) { //on arrete le dessin\r\n  if (isDrawing  && drawRectangle)\r\n  {\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.beginPath();\r\n    context.strokeRect(posInit.x, posInit.y, posEnd.x - posInit.x, posEnd.y - posInit.y);\r\n  }\r\n  if (isDrawing  && drawRectangleFull)\r\n  {\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.beginPath();\r\n    context.fillRect(posInit.x, posInit.y, posEnd.x - posInit.x, posEnd.y - posInit.y);\r\n  }\r\n\r\n  if(isDrawing && drawCircle)\r\n  {\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.beginPath();\r\n    context.ellipse(posInit.x, posInit.y, Math.abs(posEnd.x - posInit.x), Math.abs(posEnd.y - posInit.y), 0, 0, 2*Math.PI);\r\n    context.stroke();\r\n  }\r\n  if(isDrawing && drawCircleFull)\r\n  {\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.beginPath();\r\n    context.ellipse(posInit.x, posInit.y, Math.abs(posEnd.x - posInit.x), Math.abs(posEnd.y - posInit.y), 0, 0, 2*Math.PI);\r\n    context.fill();\r\n  }\r\n\r\n  if(isDrawing && drawLine)\r\n  {\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.beginPath();\r\n    context.moveTo(posInit.x, posInit.y);\r\n    context.lineTo(posEnd.x, posEnd.y);\r\n    context.stroke();\r\n  }\r\n  if(isDrawing && fillIn)\r\n  {\r\n    posEnd=getMousePos(canvas,mouse);\r\n    //context.fillStyle;\r\n    console.log(\"blablabla\");\r\n  }\r\n  isDrawing = false;\r\n};\r\n\r\ncanvas.onmousemove = function (mouse) {\r\n  if (isDrawing && drawPinceau) {\r\n    var pos = getMousePos(canvas, mouse); // position (x,y) du crayon\r\n    context.lineTo(pos.x, pos.y); // dessiner une ligne\r\n    context.stroke();\r\n  }\r\n\r\n  if (isDrawing && drawRectangle)\r\n  {\r\n    drawDataURIOnCanvas(sourceCanvas);\r\n    posEnd = getMousePos(canvas, mouse); // position (x,y) du crayon\r\n    context.beginPath();\r\n    context.strokeRect(posInit.x, posInit.y, posEnd.x - posInit.x, posEnd.y - posInit.y);\r\n  }\r\n  if (isDrawing && drawRectangleFull)\r\n  {\r\n    drawDataURIOnCanvas(sourceCanvas);\r\n    posEnd = getMousePos(canvas, mouse); // position (x,y) du crayon\r\n    context.beginPath();\r\n    context.fillRect(posInit.x, posInit.y, posEnd.x - posInit.x, posEnd.y - posInit.y);\r\n  }\r\n\r\n  if(isDrawing && drawCircle)\r\n  {\r\n    drawDataURIOnCanvas(sourceCanvas);\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.beginPath();\r\n    context.ellipse(posInit.x, posInit.y, Math.abs(posEnd.x - posInit.x), Math.abs(posEnd.y - posInit.y), 0, 0, 2*Math.PI);\r\n    context.stroke();\r\n  }\r\n  if(isDrawing && drawCircleFull)\r\n  {\r\n    drawDataURIOnCanvas(sourceCanvas);\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.beginPath();\r\n    context.ellipse(posInit.x, posInit.y, Math.abs(posEnd.x - posInit.x), Math.abs(posEnd.y - posInit.y), 0, 0, 2*Math.PI);\r\n    context.fill();\r\n  }\r\n\r\n  if(isDrawing && drawLine)\r\n  {\r\n    drawDataURIOnCanvas(sourceCanvas);\r\n    posEnd=getMousePos(canvas,mouse);\r\n    context.beginPath();\r\n    context.moveTo(posInit.x, posInit.y);\r\n    context.lineTo(posEnd.x, posEnd.y);\r\n    context.stroke();\r\n  }\r\n};\r\n\r\n\r\nfunction drawDataURIOnCanvas(strDataURI) {  //elle prend en param l'url d'une image, ici le cache du canvas et le draw.\r\n  var img2 = new window.Image();\r\n  img2.addEventListener(\"load\", function () {\r\n      canvas.getContext(\"2d\").drawImage(img2, 0, 0,canvas.width, canvas.height);\r\n  });\r\n  img2.setAttribute(\"src\", strDataURI);\r\n}\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}