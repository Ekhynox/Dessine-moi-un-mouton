(this.webpackJsonppictionarry=this.webpackJsonppictionarry||[]).push([[0],{193:function(e,n,t){},194:function(e,n,t){},197:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=197},199:function(e,n,t){"use strict";t.r(n),t.d(n,"ColorChange",(function(){return z}));var o,c,i=t(1),l=t.n(i),a=t(46),s=t.n(a),d=(t(2),t(193),function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,201)).then((function(n){var t=n.getCLS,o=n.getFID,c=n.getFCP,i=n.getLCP,l=n.getTTFB;t(e),o(e),c(e),i(e),l(e)}))}),r=(t(194),t(82)),u=t(47),j=t.n(u),m=(document.querySelector("canvas"),new j.a),b=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;function g(){c=document.getElementById("peerID").value;var e=m.connect(c);e.on("open",(function(n){e.send("hello toi <3 !"),console.log("Check la console sur l'autre navigateur"),b({video:!0,audio:!0},(function(e){m.call(c,e).on("stream",(function(e){console.log("ok")}))}),(function(e){console.log("Failed to get local stream",e)}))}))}m.on("open",(function(e){o=e,document.getElementById("show-peer").innerHTML=o})),m.on("connection",(function(e){e.on("data",(function(e){console.log(e)}))})),m.on("connection",(function(e){console.log("ok"),b({video:!0,audio:!0},(function(n){console.log("ok2"),e.answer(n),e.on("stream",(function(e){console.log("connection ok!")}))}),(function(e){console.log("Failed to get local stream",e)}))}));var h=t(13),x=t(26),f=t(79),y=t(80),v=t(81),O=t(4);var k=function(){return Object(O.jsxs)("div",{className:"background",children:[Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsx)("div",{className:"titre"}),Object(O.jsx)("div",{className:"drawbox",children:Object(O.jsx)("canvas",{id:"DrawBox",width:"750",height:"750"})}),Object(O.jsxs)("div",{className:"outils",children:[Object(O.jsx)("button",{className:"styleB",id:"Pen+",children:"Pen+"}),Object(O.jsx)("button",{className:"styleB",id:"Pen-",children:"Pen-"}),Object(O.jsx)("button",{className:"styleB",id:"Pinceau",children:Object(O.jsx)(x.a,{})}),Object(O.jsx)("button",{className:"styleB",id:"Erase",children:Object(O.jsx)(h.a,{})}),Object(O.jsx)("button",{className:"styleB",id:"Clear",children:Object(O.jsx)(x.b,{})}),Object(O.jsx)("button",{className:"styleB",id:"drawRect",children:Object(O.jsx)(h.b,{})}),Object(O.jsx)("button",{className:"styleB",id:"drawCircle",children:Object(O.jsx)(f.a,{})}),Object(O.jsx)("button",{className:"styleB",id:"drawLine",children:Object(O.jsx)(y.a,{})}),Object(O.jsx)("button",{className:"styleB",id:"fillIn",children:Object(O.jsx)(v.a,{})}),Object(O.jsx)("button",{className:"styleB",download:"example.jpg",id:"saveImage",children:Object(O.jsx)(h.c,{})})]}),Object(O.jsx)("div",{className:"couleurs",children:Object(O.jsx)(r.a,{onChange:function(e){var n=e.hex;n=z(n)},width:"0"})}),Object(O.jsx)("div",{className:"chatbox",children:"ChatTEST123545"}),Object(O.jsx)("div",{className:"score",children:"Score"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{id:"show-peer"}),Object(O.jsx)("input",{id:"peerID"}),Object(O.jsx)("button",{onClick:g,children:" connection "})]}),Object(O.jsx)("video",{id:"Video",width:"750",height:"750"})]})};s.a.render(Object(O.jsx)(l.a.StrictMode,{children:Object(O.jsx)(k,{})}),document.getElementById("root"));var p,B=document.getElementById("DrawBox"),w=B.getContext("2d"),E=(document.getElementsByClassName("color"),document.getElementById("Pen+")),I=document.getElementById("Pen-"),N=document.getElementById("Erase"),C=document.getElementById("Pinceau"),P=document.getElementById("Clear"),S=document.getElementById("drawRect"),T=document.getElementById("drawCircle"),D=document.getElementById("drawLine"),M=document.getElementById("saveImage"),F=document.getElementById("fillIn");w.lineWidth=8;var L=!0,R=!1,U=!1,W=!1,G=!1,J=document.getElementById("Video");console.log(B),console.log(J);var V,_,q=B.captureStream(25);function z(e){p=!1,w.strokeStyle=e,w.fillStyle=e}function H(e,n){var t=e.getBoundingClientRect();return{x:n.clientX-t.left,y:n.clientY-t.top}}console.log(q),J.srcObject=q,J.play(),E.onclick=function(){p=!1,w.lineWidth+=5},I.onclick=function(){p=!1,w.lineWidth-=5},N.onclick=function(){L=!0,R=!1,U=!1,W=!1,G=!1,p=!1,w.strokeStyle="white"},C.onclick=function(){p=!1,L=!0,R=!1,U=!1,W=!1,G=!1,w.strokeStyle="black"},P.onclick=function(){L=!0,R=!1,U=!1,W=!1,G=!1,p=!1,w.clearRect(0,0,1e3,1e3),w.strokeStyle="black"},S.onclick=function(){L=!1,R=!0,U=!1,W=!1,G=!1},T.onclick=function(){L=!1,R=!1,U=!0,W=!1,G=!1},D.onclick=function(){L=!1,R=!1,U=!1,W=!0,G=!1},B.onload=function(){w.fillStyle("white"),w.fillRect(0,0,750,750)},F.onclick=function(){L=!1,R=!1,U=!1,W=!1,G=!0},M.onclick=function(){var e=document.createElement("a");e.href=B.toDataURL("image/jpg").replace("png","jpg"),e.download="dessine-moi.jpg",e.click()},B.onmousedown=function(e){if(L){var n=H(B,e);p=!0,w.beginPath(),w.moveTo(n.x,n.y)}R&&(V=H(B,e),p=!0,w.beginPath()),U&&(V=H(B,e),p=!0,w.beginPath()),W&&(V=H(B,e),p=!0,w.beginPath(),w.moveTo(V.x,V.y)),G&&(V=H(B,e),p=!0,w.beginPath())},B.onmouseup=function(e){p&&R&&(_=H(B,e),w.strokeRect(V.x,V.y,_.x-V.x,_.y-V.y)),p&&U&&(_=H(B,e),w.ellipse(V.x,V.y,Math.abs(_.x-V.x),Math.abs(_.y-V.y),0,0,6.28),w.stroke()),p&&W&&(_=H(B,e),w.lineTo(_.x,_.y),w.stroke()),p&&G&&(_=H(B,e),console.log("blablabla")),p=!1},B.onmousemove=function(e){if(p&&L){var n=H(B,e);w.lineTo(n.x,n.y),w.linecap="round",w.stroke()}},d()}},[[199,1,2]]]);
//# sourceMappingURL=main.4e115212.chunk.js.map